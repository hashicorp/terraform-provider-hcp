---
page_title: "Data Source hcp_packer_image - terraform-provider-hcp"
subcategory: ""
description: |-
  The Packer Image data source iteration gets the most recent iteration (or build) of an image, given an iteration id.
---

# Data Source (hcp_packer_image)

The Packer Image data source iteration gets the most recent iteration (or build) of an image, given an iteration id.

## Example Usage

```terraform
data "hcp_packer_iteration" "hardened-source" {
  bucket_name = "hardened-ubuntu-16-04"
  channel     = "production"
}

data "hcp_packer_image" "foo" {
  bucket_name    = "hardened-ubuntu-16-04"
  cloud_provider = "aws"
  iteration_id   = data.hcp_packer_iteration.hardened-source.ulid
  region         = "us-east-1"
}

output "packer-registry-ubuntu" {
  value = data.hcp_packer_image.foo.cloud_image_id
}
```

~> **Note:** This data source only returns the first found image's metadata filtered by the given schema values, from the returned list of images associated with the specified iteration. Therefore, if multiple images exist in the same region, it will only pick one of them. If that's the case, you may consider separating your builds into different buckets.

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `bucket_name` (String) The slug of the HCP Packer Registry image bucket to pull from.
- `cloud_provider` (String) Name of the cloud provider this image is stored-in.
- `iteration_id` (String) HCP ID of this image.
- `region` (String) Region this image is stored in, if any.

### Optional

- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `build_id` (String) HCP ID of this build.
- `cloud_image_id` (String) Cloud Image ID or URL string identifying this image for the builder that built it.
- `component_type` (String) Name of the builder that built this. Ex: 'amazon-ebs.example'
- `created_at` (String) Creation time of this build.
- `id` (String) The ID of this resource.
- `labels` (Map of String) Labels associated with this build.
- `organization_id` (String) The ID of the organization this HCP Packer registry is located in.
- `packer_run_uuid` (String) UUID of this build.
- `project_id` (String) The ID of the project this HCP Packer registry is located in.
- `revoke_at` (String) The revocation time of this build

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `default` (String)

