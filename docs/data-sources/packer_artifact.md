---
page_title: "Data Source hcp_packer_artifact - terraform-provider-hcp"
subcategory: "HCP Packer"
description: |-
  The HCP Packer Artifact data source retrieves information about an Artifact.
---

# hcp_packer_artifact (Data Source)

The HCP Packer Artifact data source retrieves information about an Artifact.

## Example Usage

### Single artifact sourcing

```terraform
data "hcp_packer_artifact" "ubuntu-east" {
  bucket_name  = "hardened-ubuntu-16-04"
  channel_name = "production"
  platform     = "aws"
  region       = "us-east-1"
}

output "packer-registry-ubuntu-east-1" {
  value = data.hcp_packer_artifact.ubuntu-east.external_identifier
}
```

~> **Note:** The `channel` attribute in this data source may incur a billable request to HCP Packer. This attribute is intended for convenience when using a single artifact. When sourcing multiple artifacts from a single version, the `hcp_packer_version` data source is the alternative for querying a channel just once.

### Multiple artifact sourcing from a single version

```terraform
data "hcp_packer_version" "hardened-source" {
  bucket_name  = "hardened-ubuntu-16-04"
  channel_name = "production"
}

data "hcp_packer_artifact" "ubuntu-east" {
  bucket_name         = "hardened-ubuntu-16-04"
  version_fingerprint = data.hcp_packer_version.hardened-source.fingerprint
  platform            = "aws"
  region              = "us-east-1"
}

data "hcp_packer_artifact" "ubuntu-west" {
  bucket_name         = "hardened-ubuntu-16-04"
  version_fingerprint = data.hcp_packer_version.hardened-source.fingerprint
  platform            = "aws"
  region              = "us-west-1"
}

output "packer-registry-ubuntu-east-1" {
  value = data.hcp_packer_artifact.ubuntu-east.external_identifier
}

output "packer-registry-ubuntu-west-1" {
  value = data.hcp_packer_artifact.ubuntu-west.external_identifier
}
```

~> **Note:** This data source only returns the first found artifact's metadata filtered by the given arguments, from the returned list of artifacts associated with the specified version. Therefore, if multiple artifacts exist in the same region, it will only pick one of them. In this case, you can filter artifacts by a source build name (Ex: `amazon-ebs.example`) using the `component_type` optional argument.

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `bucket_name` (String) The name of the HCP Packer Bucket where the Artifact is located.
- `platform` (String) Name of the platform where the HCP Packer Artifact is stored.
- `region` (String) The Region where the HCP Packer Artifact is stored, if any.

### Optional

- `channel_name` (String) The name of the HCP Packer Channel the Version containing this Artifact is assigned to.
The Version currently assigned to the Channel will be fetched. 
Exactly one of `channel_name` or `version_fingerprint` must be provided.
- `component_type` (String) Name of the Packer builder that built this Artifact. Ex: `amazon-ebs.example`.
- `project_id` (String) The ID of the HCP Organization where the Artifact is located
- `version_fingerprint` (String) The fingerprint of the HCP Packer Version where the Artifact is located. 
If provided in the config, it is used to fetch the Version.
Exactly one of `channel_name` or `version_fingerprint` must be provided.

### Read-Only

- `build_id` (String) The ULID of the HCP Packer Build where the Artifact is located.
- `created_at` (String) The creation time of this HCP Packer Artifact.
- `external_identifier` (String) An external identifier for the HCP Packer Artifact.
- `id` (String) The ULID of the HCP Packer Artifact.
- `labels` (Map of String) Labels associated with the build containing this image.
- `organization_id` (String) The ID of the HCP Organization where the Artifact is located
- `packer_run_uuid` (String) The UUID of the build containing this image.
- `revoke_at` (String) The revocation time of the HCP Packer Version containing this Artifact. This field will be null for any Version that has not been revoked or scheduled for revocation.
