---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "hcp_vault_secrets_integration_gcp Resource - terraform-provider-hcp"
subcategory: ""
description: |-
  The Vault Secrets GCP integration resource manages an GCP integration.
---

# hcp_vault_secrets_integration_gcp (Resource)

The Vault Secrets GCP integration resource manages an GCP integration.

## Example Usage

```terraform
resource "hcp_vault_secrets_integration_gcp" "example_with_federated_identity" {
  name         = "my-gcp-1"
  capabilities = ["DYNAMIC", "ROTATION"]
  federated_workload_identity = {
    service_account_email = "my-service-account@my-project-123456.iam.gserviceaccount.com"
    audience              = "https://iam.googleapis.com/projects/123456/locations/global/workloadIdentityPools/my-identity-pool/providers/my-provider"
  }
}

resource "hcp_vault_secrets_integration_gcp" "example_with_base64_service_account_key" {
  name         = "my-gcp-2"
  capabilities = ["DYNAMIC", "ROTATION"]
  service_account_key = {
    credentials = filebase64("${path.module}/service_account_key.json")
  }
}


resource "hcp_vault_secrets_integration_gcp" "example_json_service_account_key" {
  name         = "my-gcp-3"
  capabilities = ["DYNAMIC", "ROTATION"]
  service_account_key = {
    credentials = file("${path.module}/service_account_key.json")
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `capabilities` (Set of String) Capabilities enabled for the integration. See the Vault Secrets documentation for the list of supported capabilities per provider.
- `name` (String) The Vault Secrets integration name.

### Optional

- `federated_workload_identity` (Attributes) (Recommended) Federated identity configuration to authenticate against the target GCP project. Cannot be used with `service_account_key`. (see [below for nested schema](#nestedatt--federated_workload_identity))
- `project_id` (String) HCP project ID that owns the HCP Vault Secrets integration. Inferred from the provider configuration if omitted.
- `service_account_key` (Attributes) GCP service account key used to authenticate against the target GCP project. Cannot be used with `federated_workload_identity`. (see [below for nested schema](#nestedatt--service_account_key))

### Read-Only

- `organization_id` (String) HCP organization ID that owns the HCP Vault Secrets integration.
- `resource_id` (String) Resource ID used to uniquely identify the integration instance on the HCP platform.
- `resource_name` (String) Resource name used to uniquely identify the integration instance on the HCP platform.

<a id="nestedatt--federated_workload_identity"></a>
### Nested Schema for `federated_workload_identity`

Required:

- `audience` (String) Audience configured on the GCP identity provider to federate access with HCP.
- `service_account_email` (String) GCP service account email that HVS will impersonate to carry operations for the appropriate capabilities.


<a id="nestedatt--service_account_key"></a>
### Nested Schema for `service_account_key`

Required:

- `credentials` (String) JSON or base64 encoded service account key received from GCP.

Read-Only:

- `client_email` (String) Service account email corresponding to the service account key.
- `project_id` (String) GCP project ID corresponding to the service account key.

## Import

Import is supported using the following syntax:

```shell
# Vault Secrets GCP Integration can be imported by specifying the name of the integration
# Note that since the service account credentials are never returned on the Vault Secrets API,
# the next plan or apply will show a diff for that field if using the service account key authentication method.
terraform import hcp_vault_secrets_integration_gcp.example my-gcp-1
```
