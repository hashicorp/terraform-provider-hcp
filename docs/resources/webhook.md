---
page_title: "Resource hcp_webhook - terraform-provider-hcp"
subcategory: "Cloud Platform"
description: |-
  The webhook resource manages a HCP webhook, used to notify external systems about a project resource's lifecycle events
---

# hcp_webhook (Resource)

The webhook resource manages a HCP webhook, used to notify external systems about a project resource's lifecycle events

## Example Usage

```terraform
resource "hcp_webhook" "example" {
  name        = "example-webhook"
  description = "Notify for all of the events for all Packer artifact versions existing in the project."
  enabled     = true

  config = {
    url = "https://example.com"
  }

  subscriptions = [
    {
      events = [
        {
          actions = ["*"]
          source  = "hashicorp.packer.version"
        }
      ]
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `config` (Attributes) The webhook configuration used to deliver event payloads. (see [below for nested schema](#nestedatt--config))
- `name` (String) The webhook's name.

### Optional

- `description` (String) The webhook's description. Descriptions are useful for helping others understand the purpose of the webhook.
- `enabled` (Boolean) Indicates if the webhook should receive payloads for the subscribed events.
- `project_id` (String) The ID of the project to create the webhook under. If unspecified, the webhook will be created in the project the provider is configured with.
- `subscriptions` (Attributes List) Set of events to subscribe the webhook to all resources or a specific resource in the project. (see [below for nested schema](#nestedatt--subscriptions))

### Read-Only

- `resource_id` (String) The webhook's unique identifier.
- `resource_name` (String) The webhooks's resource name in the format `webhook/project/<project_id>/geo/us/webhook/<name>`.

<a id="nestedatt--config"></a>
### Nested Schema for `config`

Required:

- `url` (String) The HTTP or HTTPS destination URL that HCP delivers the event payloads to. 
The destination must be able to use the HCP webhook 
[payload](https://developer.hashicorp.com/hcp/docs/hcp/admin/projects/webhooks#webhook-payload).

Optional:

- `hmac_key` (String, Sensitive) The arbitrary secret that HCP uses to sign all its webhook requests. This is awrite-only field, it is written once and not visible thereafter.


<a id="nestedatt--subscriptions"></a>
### Nested Schema for `subscriptions`

Required:

- `events` (Attributes List) The information about the events of a webhook subscription. The service that owns the resource is responsible for maintaining events. Refer to the service's webhook documentation for more information. (see [below for nested schema](#nestedatt--subscriptions--events))

Optional:

- `resource_id` (String) Refers to the resource the webhook is subscribed to. If not set, the webhook subscribes to the emitted events listed in events for any resource in the webhook's project.

<a id="nestedatt--subscriptions--events"></a>
### Nested Schema for `subscriptions.events`

Required:

- `actions` (List of String) The list of event actions subscribed for the resource type set as the [source](#source). For example, `["create", "update"]`. When the action is '*', it means that the webhook is subscribed to all event actions for the event source.
- `source` (String) The resource type of the source of the event. For example, `hashicorp.packer.version`. Event source might not be the same type as the resource that the webhook is subscribed to ([resource_id](#resource_id)) if the event is from a descendant resource. For example, webhooks are subscribed to a `hashicorp.packer.registry` and receive events for descendent resources such as a `hashicorp.packer.version`.

## Import

Import is supported using the following syntax:

```shell
# HCP Webhook can be imported by specifying the webhook resource name
terraform import hcp_webhook.example webhook/project/840e3701-55b6-4f86-8c17-b1fe397303c5/geo/us/webhook/example-webhook
```
