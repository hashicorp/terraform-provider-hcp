---
page_title: "hcp_vault_radar_secret_manager_vault_dedicated Resource - terraform-provider-hcp"
subcategory: "HCP Vault Radar"
description: |-
  This terraform resource manages a HCP Vault Dedicated secret manager in Vault Radar. See Create a Vault policy https://developer.hashicorp.com/hcp/docs/vault-radar/agent/correlate-vault#create-a-vault-policy for details on creating the auth policy required.
---

# hcp_vault_radar_secret_manager_vault_dedicated (Resource)

-> **Note:** This feature is currently in private beta.

This terraform resource manages a HCP Vault Dedicated secret manager in Vault Radar. See [Create a Vault policy](https://developer.hashicorp.com/hcp/docs/vault-radar/agent/correlate-vault#create-a-vault-policy) for details on creating the auth policy required.

~> **Note:** A Radar agent is required before adding a Radar secret manager resource.

~> **Note:** One of the following authentication methods is required to create a Radar secret manager resource:
- Kubernetes
- AppRole
- Token

~> **Note:** Auth methods need to be configured in the `admin` namespace of the HCP Vault Dedicated cluster.

~> **Note:** Environment variables that correspond to the authentication method being used must be available to the agent.

## Example Usage

```terraform
# Usage with Kubernetes auth method
resource "hcp_vault_radar_secret_manager_vault_dedicated" "secret_manager_example_1" {
  vault_url = "example-1.hashicorp.cloud:8200"
  kubernetes = {
    mount_path = "kubernetes"
    role_name  = "vault-radar-role"
  }
}

# Usage with AppRole (Push) auth method.
resource "hcp_vault_radar_secret_manager_vault_dedicated" "secret_manager_example_2" {
  vault_url = "example-2.hashicorp.cloud:8200"
  approle_push = {
    mount_path        = "approle"
    role_id_env_var   = "VAULT_APPROLE_ROLE_ID"
    secret_id_env_var = "VAULT_APPROLE_SECRET_ID"
  }
}

# Usage with Token auth method
resource "hcp_vault_radar_secret_manager_vault_dedicated" "secret_manager_example_3" {
  vault_url = "example-3.hashicorp.cloud:8200"
  token = {
    token_env_var = "VAULT_TOKEN"
  }
}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `vault_url` (String) Specify the URL of the Vault instance without protocol. Example: 'acme-public-vault-abc.def.z1.hashicorp.cloud:8200'.

### Optional

- `access_read_write` (Boolean) Indicates if the auth method has read and write access to the secrets engine. Defaults to false. Set this to true if you want to copy secrets to this secret manager as part of remediation process. (see https://developer.hashicorp.com/hcp/docs/vault-radar/remediate-secrets/copy-secrets)
- `approle_push` (Attributes) Configuration for AppRole Push-based authentication. Only one authentication method may be configured. (see [below for nested schema](#nestedatt--approle_push))
- `kubernetes` (Attributes) Configuration for Kubernetes-based authentication. Only one authentication method may be configured. (see [below for nested schema](#nestedatt--kubernetes))
- `project_id` (String) The ID of the HCP project where Vault Radar is located. If not specified, the project specified in the HCP Provider config block will be used, if configured.
- `token` (Attributes) Configuration for token-based authentication. Only one authentication method may be configured. (see [below for nested schema](#nestedatt--token))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedatt--approle_push"></a>
### Nested Schema for `approle_push`

Required:

- `mount_path` (String) Mount path of the AppRole auth method in Vault. Example 'approle'.
- `role_id_env_var` (String) Environment variable containing the AppRole role ID. Example: 'VAULT_APPROLE_ROLE_ID'.
- `secret_id_env_var` (String) Environment variable containing the AppRole secret ID. Example: 'VAULT_APPROLE_SECRET_ID'.


<a id="nestedatt--kubernetes"></a>
### Nested Schema for `kubernetes`

Required:

- `mount_path` (String) Mount path where the Kubernetes auth method is enabled in Vault. Example 'kubernetes'.
- `role_name` (String) Kubernetes authentication role configured in Vault.  Example 'vault-radar-role'.


<a id="nestedatt--token"></a>
### Nested Schema for `token`

Required:

- `token_env_var` (String) Environment variable name containing the Vault token. Example: 'VAULT_TOKEN'.
